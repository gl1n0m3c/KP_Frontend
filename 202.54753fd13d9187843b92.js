"use strict";(self.webpackChunknetwork_platform=self.webpackChunknetwork_platform||[]).push([[202],{181:(e,t,a)=>{a.d(t,{A:()=>C});var r=a(641),s=a(953),l=a(33),i=a(966),d=a(333),n=a(920),o=a(996);const c={class:"space-y-3"},u={key:0,class:"space-y-3"},g={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},k={key:2,class:"space-y-3"},b={class:"flex-shrink-0 mt-1"},v={class:"flex-1 min-w-0"},h={class:"flex items-start justify-between"},x={class:"flex-1"},m={class:"text-sm font-medium text-gray-900 dark:text-white"},p={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},y={class:"flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400"},w={key:0,class:"ml-3 flex items-center"},f={class:"flex items-center space-x-2 ml-4"},L=["onClick"],C=(0,r.pM)({__name:"AlertsList",props:{alerts:{},loading:{type:Boolean,default:!1},limit:{default:void 0}},emits:["acknowledge"],setup(e){const t=e,{t:a}=(0,i.s9)(),C=(0,r.EW)((()=>{const e=[...t.alerts].sort(((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()));return t.limit?e.slice(0,t.limit):e})),E=e=>{const t=e.acknowledged?"opacity-60":"";return`border-l-4 ${{critical:"border-red-500 bg-red-50 dark:bg-red-900/10",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/10",info:"border-blue-500 bg-blue-50 dark:bg-blue-900/10"}[e.type]} ${t}`},_=e=>({critical:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}[e]),A=e=>{const t=new Date(e),a=(new Date).getTime()-t.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5),l=Math.floor(a/864e5);return l>0?`${l}d ago`:s>0?`${s}h ago`:r>0?`${r}m ago`:"Just now"};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",c,[e.loading?((0,r.uX)(),(0,r.CE)("div",u,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.limit||5,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"animate-pulse"},t[0]||(t[0]=[(0,r.Fv)('<div class="flex items-start space-x-3 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg"><div class="w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full mt-1"></div><div class="flex-1 space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"></div><div class="h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/2"></div></div></div>',1)]))))),128))])):0===C.value.length?((0,r.uX)(),(0,r.CE)("div",g,[(0,r.bF)((0,s.R1)(d.A),{class:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.Lk)("p",null,(0,l.v_)(e.$t("alerts.noAlerts")),1)])):((0,r.uX)(),(0,r.CE)("div",k,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(C.value,(t=>{return(0,r.uX)(),(0,r.CE)("div",{key:t.id,class:(0,l.C4)(["flex items-start space-x-3 p-3 rounded-lg border transition-colors duration-200",E(t)])},[(0,r.Lk)("div",b,[(0,r.Lk)("div",{class:(0,l.C4)(["w-3 h-3 rounded-full",(a=t.type,{critical:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[a])])},null,2)]),(0,r.Lk)("div",v,[(0,r.Lk)("div",h,[(0,r.Lk)("div",x,[(0,r.Lk)("h4",m,(0,l.v_)(t.title),1),(0,r.Lk)("p",p,(0,l.v_)(t.message),1),(0,r.Lk)("div",y,[(0,r.bF)((0,s.R1)(n.A),{class:"h-3 w-3 mr-1"}),(0,r.eW)(" "+(0,l.v_)(A(t.timestamp))+" ",1),t.deviceId?((0,r.uX)(),(0,r.CE)("span",w,[(0,r.bF)((0,s.R1)(o.A),{class:"h-3 w-3 mr-1"}),(0,r.eW)(" Device "+(0,l.v_)(t.deviceId),1)])):(0,r.Q3)("v-if",!0)])]),(0,r.Lk)("div",f,[(0,r.Lk)("span",{class:(0,l.C4)(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",_(t.type)])},(0,l.v_)(e.$t(`alerts.types.${t.type}`)),3),t.acknowledged?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:a=>e.$emit("acknowledge",t.id),class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-xs"},(0,l.v_)(e.$t("alerts.acknowledge")),9,L))])])])],2);var a})),128))]))]))}})},202:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ie});var r=a(641),s=a(33),l=a(751),i=a(953),d=a(834),n=a(966),o=a(845),c=a(920),u=a(905),g=a(333),k=a(684),b=a(478),v=a(37),h=a(528);const x={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-all duration-200 hover:shadow-md"},m={class:"flex items-center justify-between"},p={class:"flex-1"},y={class:"flex items-center"},w={class:"ml-4"},f={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},L={class:"mt-1 flex items-baseline"},C={key:0,class:"animate-pulse"},E=(0,r.pM)({__name:"StatusCard",props:{title:{},value:{},status:{},icon:{},trend:{default:null},loading:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,r.EW)((()=>({success:"bg-green-100 dark:bg-green-900/20",warning:"bg-yellow-100 dark:bg-yellow-900/20",error:"bg-red-100 dark:bg-red-900/20"}[t.status]))),l=(0,r.EW)((()=>({success:"text-green-600 dark:text-green-400",warning:"text-yellow-600 dark:text-yellow-400",error:"text-red-600 dark:text-red-400"}[t.status]))),i=(0,r.EW)((()=>({success:"text-gray-900 dark:text-white",warning:"text-gray-900 dark:text-white",error:"text-gray-900 dark:text-white"}[t.status]))),d=(0,r.EW)((()=>({success:"bg-green-400",warning:"bg-yellow-400",error:"bg-red-400"}[t.status]))),n=(0,r.EW)((()=>{if(!t.trend)return"";const e=t.trend.startsWith("+"),a=t.trend.startsWith("-");return e?"text-green-600 dark:text-green-400":a?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"}));return(e,t)=>((0,r.uX)(),(0,r.CE)("div",x,[(0,r.Lk)("div",m,[(0,r.Lk)("div",p,[(0,r.Lk)("div",y,[(0,r.Lk)("div",{class:(0,s.C4)(["flex-shrink-0 p-2 rounded-lg",a.value])},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.icon),{class:(0,s.C4)(["h-5 w-5",l.value])},null,8,["class"]))],2),(0,r.Lk)("div",w,[(0,r.Lk)("h3",f,(0,s.v_)(e.title),1),(0,r.Lk)("div",L,[e.loading?((0,r.uX)(),(0,r.CE)("div",C,t[0]||(t[0]=[(0,r.Lk)("div",{class:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-16"},null,-1)]))):((0,r.uX)(),(0,r.CE)("p",{key:1,class:(0,s.C4)(["text-2xl font-semibold",i.value])},(0,s.v_)(e.value),3)),e.trend&&!e.loading?((0,r.uX)(),(0,r.CE)("span",{key:2,class:(0,s.C4)(["ml-2 text-sm font-medium",n.value])},(0,s.v_)(e.trend),3)):(0,r.Q3)("v-if",!0)])])])]),(0,r.Lk)("div",{class:(0,s.C4)(["flex-shrink-0 w-3 h-3 rounded-full",d.value])},null,2)])]))}}),_={class:"relative"},A={key:0,class:"animate-pulse"},$={key:1,class:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400"},X=["width","height"],W=(0,r.pM)({__name:"NetworkChart",props:{data:{},loading:{type:Boolean,default:!1},height:{default:300}},setup(e){const t=e,{t:a}=(0,n.s9)(),l=(0,i.KR)(),d=(0,i.KR)(800),o=()=>{if(!l.value||!t.data.length)return;const e=l.value,a=e.getContext("2d");if(!a)return;a.clearRect(0,0,e.width,e.height);const r=40,s=e.width-80,i=e.height-80,d=t.data.map((e=>e.value)),n=Math.min(...d),o=Math.max(...d)-n||1;a.strokeStyle="#e5e7eb",a.lineWidth=1;for(let t=0;t<=5;t++){const s=r+i/5*t;a.beginPath(),a.moveTo(r,s),a.lineTo(e.width-r,s),a.stroke()}a.strokeStyle="#3b82f6",a.lineWidth=2,a.beginPath(),t.data.forEach(((e,l)=>{const d=r+s/(t.data.length-1)*l,c=r+i-(e.value-n)/o*i;0===l?a.moveTo(d,c):a.lineTo(d,c)})),a.stroke(),a.fillStyle="#3b82f6",t.data.forEach(((e,l)=>{const d=r+s/(t.data.length-1)*l,c=r+i-(e.value-n)/o*i;a.beginPath(),a.arc(d,c,3,0,2*Math.PI),a.fill()})),a.fillStyle="#6b7280",a.font="12px sans-serif",a.textAlign="center";for(let e=0;e<=5;e++){const t=n+o/5*(5-e),s=r+i/5*e;a.textAlign="right",a.fillText(t.toFixed(1),30,s+4)}const c=Math.ceil(t.data.length/6);t.data.forEach(((l,i)=>{if(i%c===0){const d=r+s/(t.data.length-1)*i;a.textAlign="center",a.fillText(new Date(l.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),d,e.height-10)}}))},c=()=>{if(!l.value)return;const e=l.value.parentElement;e&&(d.value=e.clientWidth)};return(0,r.wB)((()=>t.data),(()=>{(0,r.dY)((()=>{o()}))}),{deep:!0}),(0,r.wB)((()=>t.loading),(e=>{e||(0,r.dY)((()=>{o()}))})),(0,r.sV)((()=>{c(),window.addEventListener("resize",c),(0,r.dY)((()=>{o()}))})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",_,[e.loading?((0,r.uX)(),(0,r.CE)("div",A,t[0]||(t[0]=[(0,r.Lk)("div",{class:"h-64 bg-gray-200 dark:bg-gray-600 rounded"},null,-1)]))):e.data&&0!==e.data.length?((0,r.uX)(),(0,r.CE)("canvas",{key:2,ref_key:"chartCanvas",ref:l,width:d.value,height:e.height,class:"w-full"},null,8,X)):((0,r.uX)(),(0,r.CE)("div",$,(0,s.v_)(e.$t("chart.noData")),1))]))}});var D=a(181),M=a(656);const T=["disabled"],F={class:"flex items-start space-x-3"},R={class:"flex-shrink-0"},K={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg group-hover:bg-blue-200 dark:group-hover:bg-blue-900/30 transition-colors duration-200"},Q={class:"flex-1 min-w-0"},I={class:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200"},S={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},B=(0,r.pM)({__name:"ActionButton",props:{title:{},description:{},icon:{},loading:{type:Boolean,default:!1}},emits:["click"],setup(e){const t=M.A;return(e,a)=>((0,r.uX)(),(0,r.CE)("button",{onClick:a[0]||(a[0]=t=>e.$emit("click")),disabled:e.loading,class:"group relative p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-all duration-200 hover:border-blue-300 dark:hover:border-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-left"},[(0,r.Lk)("div",F,[(0,r.Lk)("div",R,[(0,r.Lk)("div",K,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.loading?(0,i.R1)(t):e.icon),{class:(0,s.C4)(["h-5 w-5 text-blue-600 dark:text-blue-400",{"animate-spin":e.loading}])},null,8,["class"]))])]),(0,r.Lk)("div",Q,[(0,r.Lk)("h3",I,(0,s.v_)(e.title),1),(0,r.Lk)("p",S,(0,s.v_)(e.description),1)])]),a[1]||(a[1]=(0,r.Lk)("div",{class:"absolute inset-0 rounded-lg border-2 border-transparent group-hover:border-blue-200 dark:group-hover:border-blue-800 transition-colors duration-200"},null,-1))],8,T))}}),P={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},N={class:"mb-8"},O={class:"text-3xl font-bold text-gray-900 dark:text-white"},V={class:"mt-2 text-gray-600 dark:text-gray-400"},Y={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},z={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},H={class:"flex items-center justify-between mb-4"},J={class:"text-lg font-semibold text-gray-900 dark:text-white"},U={value:"1h"},G={value:"24h"},Z={value:"7d"},ee={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},te={class:"flex items-center justify-between mb-4"},ae={class:"text-lg font-semibold text-gray-900 dark:text-white"},re={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},se={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},le={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},ie=(0,r.pM)({__name:"Dashboard",setup(e){const t=(0,d.Pj)(),{t:a}=(0,n.s9)(),x=(0,i.KR)("24h"),m=(0,i.KR)(!0),p=(0,i.KR)(!0),y=(0,i.KR)(!0);(0,r.sV)((()=>{(async()=>{try{m.value=!0,p.value=!0,y.value=!0,await Promise.all([t.dispatch("network/fetchMetrics"),t.dispatch("network/fetchChartData",x.value),t.dispatch("alerts/fetchRecent")])}catch(e){console.error("Failed to load dashboard data:",e)}finally{m.value=!1,p.value=!1,y.value=!1}})();const e=setInterval((()=>{t.dispatch("network/fetchMetrics")}),3e4);return()=>clearInterval(e)}));const w=(0,r.EW)((()=>[{id:"status",title:"dashboard.metrics.status",value:t.state.network.isOnline?"Online":"Offline",status:t.state.network.isOnline?"success":"error",icon:o.A,trend:null},{id:"uptime",title:"dashboard.metrics.uptime",value:`${t.state.network.uptime}%`,status:t.state.network.uptime>99?"success":"warning",icon:c.A,trend:"+0.1%"},{id:"ping",title:"dashboard.metrics.ping",value:`${t.state.network.averagePing}ms`,status:t.state.network.averagePing<50?"success":"warning",icon:u.A,trend:"-2ms"},{id:"alerts",title:"dashboard.metrics.activeAlerts",value:t.state.alerts.activeCount.toString(),status:0===t.state.alerts.activeCount?"success":"error",icon:g.A,trend:t.state.alerts.activeCount>0?`+${t.state.alerts.activeCount}`:null}])),f=(0,r.EW)((()=>t.state.network.chartData)),L=(0,r.EW)((()=>t.state.alerts.recent)),C=(0,r.EW)((()=>[{id:"refresh",title:"dashboard.actions.refreshAll",description:"dashboard.actions.refreshAllDesc",icon:k.A,loading:t.state.network.refreshing},{id:"test",title:"dashboard.actions.runTest",description:"dashboard.actions.runTestDesc",icon:b.A,loading:t.state.network.testing},{id:"settings",title:"dashboard.actions.settings",description:"dashboard.actions.settingsDesc",icon:v.A,loading:!1},{id:"export",title:"dashboard.actions.export",description:"dashboard.actions.exportDesc",icon:h.A,loading:t.state.network.exporting}])),_=async e=>{await t.dispatch("alerts/acknowledgeAlert",e)};return(0,r.wB)(x,(async e=>{p.value=!0,await t.dispatch("network/fetchChartData",e),p.value=!1})),(e,a)=>{const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",P,[(0,r.Lk)("div",j,[(0,r.Q3)(" Header "),(0,r.Lk)("div",N,[(0,r.Lk)("h1",O,(0,s.v_)(e.$t("dashboard.title")),1),(0,r.Lk)("p",V,(0,s.v_)(e.$t("dashboard.subtitle")),1)]),(0,r.Q3)(" Network Status Cards "),(0,r.Lk)("div",Y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(w.value,(t=>((0,r.uX)(),(0,r.Wv)(E,{key:t.id,title:e.$t(t.title),value:t.value,status:t.status,icon:t.icon,trend:t.trend,loading:m.value},null,8,["title","value","status","icon","trend","loading"])))),128))]),(0,r.Q3)(" Charts Section "),(0,r.Lk)("div",q,[(0,r.Q3)(" Network Load Chart "),(0,r.Lk)("div",z,[(0,r.Lk)("div",H,[(0,r.Lk)("h3",J,(0,s.v_)(e.$t("dashboard.networkLoad")),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),class:"text-sm border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[(0,r.Lk)("option",U,(0,s.v_)(e.$t("time.1hour")),1),(0,r.Lk)("option",G,(0,s.v_)(e.$t("time.24hours")),1),(0,r.Lk)("option",Z,(0,s.v_)(e.$t("time.7days")),1)],512),[[l.u1,x.value]])]),(0,r.bF)(W,{data:f.value,loading:p.value,height:300},null,8,["data","loading"])]),(0,r.Q3)(" Recent Alerts "),(0,r.Lk)("div",ee,[(0,r.Lk)("div",te,[(0,r.Lk)("h3",ae,(0,s.v_)(e.$t("dashboard.recentAlerts")),1),(0,r.bF)(i,{to:"/alerts",class:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300"},{default:(0,r.k6)((()=>[(0,r.eW)((0,s.v_)(e.$t("common.viewAll")),1)])),_:1})]),(0,r.bF)(D.A,{alerts:L.value,loading:y.value,limit:5,onAcknowledge:_},null,8,["alerts","loading"])])]),(0,r.Q3)(" Quick Actions "),(0,r.Lk)("div",re,[(0,r.Lk)("h3",se,(0,s.v_)(e.$t("dashboard.quickActions")),1),(0,r.Lk)("div",le,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(C.value,(a=>((0,r.uX)(),(0,r.Wv)(B,{key:a.id,title:e.$t(a.title),description:e.$t(a.description),icon:a.icon,loading:a.loading,onClick:e=>(async e=>{switch(e){case"refresh":await t.dispatch("network/refreshAllDevices");break;case"test":await t.dispatch("network/runNetworkTest");break;case"settings":break;case"export":await t.dispatch("network/exportData")}})(a.id)},null,8,["title","description","icon","loading","onClick"])))),128))])])])])}}})}}]);