"use strict";(self.webpackChunknetwork_platform=self.webpackChunknetwork_platform||[]).push([[501],{181:(e,t,r)=>{r.d(t,{A:()=>_});var a=r(641),l=r(953),s=r(33),d=r(966),o=r(333),i=r(920),g=r(996);const n={class:"space-y-3"},u={key:0,class:"space-y-3"},c={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},b={key:2,class:"space-y-3"},k={class:"flex-shrink-0 mt-1"},v={class:"flex-1 min-w-0"},m={class:"flex items-start justify-between"},y={class:"flex-1"},x={class:"text-sm font-medium text-gray-900 dark:text-white"},f={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},p={class:"flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400"},w={key:0,class:"ml-3 flex items-center"},h={class:"flex items-center space-x-2 ml-4"},L=["onClick"],_=(0,a.pM)({__name:"AlertsList",props:{alerts:{},loading:{type:Boolean,default:!1},limit:{default:void 0}},emits:["acknowledge"],setup(e){const t=e,{t:r}=(0,d.s9)(),_=(0,a.EW)((()=>{const e=[...t.alerts].sort(((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()));return t.limit?e.slice(0,t.limit):e})),$=e=>{const t=e.acknowledged?"opacity-60":"";return`border-l-4 ${{critical:"border-red-500 bg-red-50 dark:bg-red-900/10",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/10",info:"border-blue-500 bg-blue-50 dark:bg-blue-900/10"}[e.type]} ${t}`},C=e=>({critical:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}[e]),A=e=>{const t=new Date(e),r=(new Date).getTime()-t.getTime(),a=Math.floor(r/6e4),l=Math.floor(r/36e5),s=Math.floor(r/864e5);return s>0?`${s}d ago`:l>0?`${l}h ago`:a>0?`${a}m ago`:"Just now"};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",n,[e.loading?((0,a.uX)(),(0,a.CE)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.limit||5,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"animate-pulse"},t[0]||(t[0]=[(0,a.Fv)('<div class="flex items-start space-x-3 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg"><div class="w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full mt-1"></div><div class="flex-1 space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"></div><div class="h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/2"></div></div></div>',1)]))))),128))])):0===_.value.length?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)((0,l.R1)(o.A),{class:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.Lk)("p",null,(0,s.v_)(e.$t("alerts.noAlerts")),1)])):((0,a.uX)(),(0,a.CE)("div",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(_.value,(t=>{return(0,a.uX)(),(0,a.CE)("div",{key:t.id,class:(0,s.C4)(["flex items-start space-x-3 p-3 rounded-lg border transition-colors duration-200",$(t)])},[(0,a.Lk)("div",k,[(0,a.Lk)("div",{class:(0,s.C4)(["w-3 h-3 rounded-full",(r=t.type,{critical:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[r])])},null,2)]),(0,a.Lk)("div",v,[(0,a.Lk)("div",m,[(0,a.Lk)("div",y,[(0,a.Lk)("h4",x,(0,s.v_)(t.title),1),(0,a.Lk)("p",f,(0,s.v_)(t.message),1),(0,a.Lk)("div",p,[(0,a.bF)((0,l.R1)(i.A),{class:"h-3 w-3 mr-1"}),(0,a.eW)(" "+(0,s.v_)(A(t.timestamp))+" ",1),t.deviceId?((0,a.uX)(),(0,a.CE)("span",w,[(0,a.bF)((0,l.R1)(g.A),{class:"h-3 w-3 mr-1"}),(0,a.eW)(" Device "+(0,s.v_)(t.deviceId),1)])):(0,a.Q3)("v-if",!0)])]),(0,a.Lk)("div",h,[(0,a.Lk)("span",{class:(0,s.C4)(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",C(t.type)])},(0,s.v_)(e.$t(`alerts.types.${t.type}`)),3),t.acknowledged?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:r=>e.$emit("acknowledge",t.id),class:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-xs"},(0,s.v_)(e.$t("alerts.acknowledge")),9,L))])])])],2);var r})),128))]))]))}})},501:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Le});var a=r(641),l=r(33),s=r(751),d=r(953),o=r(834),i=r(966),g=r(181),n=r(494),u=r(976);const c={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},b={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800"},k={class:"mt-3"},v={class:"flex items-center justify-between mb-4"},m={class:"text-lg font-medium text-gray-900 dark:text-white"},y={class:"space-y-4"},x={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},f={class:"flex items-center"},p={class:"text-sm font-medium text-blue-800 dark:text-blue-200"},w={class:"text-sm text-blue-700 dark:text-blue-300 mt-1"},h={class:"flex justify-end"},L=(0,a.pM)({__name:"AlertSettingsModal",emits:["close","save"],setup(e){const{t}=(0,i.s9)();return(e,t)=>((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",b,[(0,a.Lk)("div",k,[(0,a.Lk)("div",v,[(0,a.Lk)("h3",m,(0,l.v_)(e.$t("alerts.notificationSettings")),1),(0,a.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[(0,a.bF)((0,d.R1)(n.A),{class:"h-6 w-6"})])]),(0,a.Lk)("div",y,[(0,a.Lk)("div",x,[(0,a.Lk)("div",f,[(0,a.bF)((0,d.R1)(u.A),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),(0,a.Lk)("div",null,[(0,a.Lk)("h4",p,(0,l.v_)(e.$t("alerts.comingSoon")),1),(0,a.Lk)("p",w,(0,l.v_)(e.$t("alerts.comingSoonDesc")),1)])])]),(0,a.Lk)("div",h,[(0,a.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("close")),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},(0,l.v_)(e.$t("common.close")),1)])])])])]))}}),_={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},C={class:"mb-8"},A={class:"flex items-center justify-between"},E={class:"text-3xl font-bold text-gray-900 dark:text-white"},F={class:"mt-2 text-gray-600 dark:text-gray-400"},T={class:"flex items-center space-x-3"},X=["disabled"],W={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},R={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},S={class:"flex items-center"},D={class:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg"},M={class:"ml-4"},Q={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},K={class:"text-2xl font-semibold text-gray-900 dark:text-white"},j={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},I={class:"flex items-center"},B={class:"p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg"},V={class:"ml-4"},U={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},z={class:"text-2xl font-semibold text-gray-900 dark:text-white"},H={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},J={class:"flex items-center"},P={class:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg"},q={class:"ml-4"},G={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},N={class:"text-2xl font-semibold text-gray-900 dark:text-white"},O={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Y={class:"flex items-center"},Z={class:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg"},ee={class:"ml-4"},te={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},re={class:"text-2xl font-semibold text-gray-900 dark:text-white"},ae={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},le={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},se={for:"type-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},de={value:""},oe={value:"critical"},ie={value:"warning"},ge={value:"info"},ne={for:"status-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ue={value:""},ce={value:"unread"},be={value:"read"},ke={for:"time-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},ve={value:""},me={value:"1h"},ye={value:"24h"},xe={value:"7d"},fe={class:"flex items-end"},pe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},we={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},he={class:"text-lg font-semibold text-gray-900 dark:text-white"},Le=(0,a.pM)({__name:"Alerts",setup(e){const t=(0,o.Pj)(),{t:r}=(0,i.s9)(),n=(0,d.KR)(!0),u=(0,d.KR)(""),c=(0,d.KR)(""),b=(0,d.KR)(""),k=(0,d.KR)(!1),v=(0,a.EW)((()=>t.state.alerts.alerts)),m=(0,a.EW)((()=>t.getters["alerts/unacknowledgedCount"])),y=(0,a.EW)((()=>t.getters["alerts/criticalAlerts"].length)),x=(0,a.EW)((()=>t.getters["alerts/warningAlerts"].length)),f=(0,a.EW)((()=>v.value.filter((e=>"info"===e.type)).length)),p=(0,a.EW)((()=>{let e=v.value;if(u.value&&(e=e.filter((e=>e.type===u.value))),c.value&&("unread"===c.value?e=e.filter((e=>!e.acknowledged)):"read"===c.value&&(e=e.filter((e=>e.acknowledged)))),b.value){const t=new Date;let r=0;switch(b.value){case"1h":r=36e5;break;case"24h":r=864e5;break;case"7d":r=6048e5}r>0&&(e=e.filter((e=>t.getTime()-new Date(e.timestamp).getTime()<=r)))}return e.sort(((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()))})),w=async e=>{await t.dispatch("alerts/acknowledgeAlert",e)},h=async()=>{const e=v.value.filter((e=>!e.acknowledged));for(const r of e)await t.dispatch("alerts/acknowledgeAlert",r.id)},Le=()=>{u.value="",c.value="",b.value=""},_e=e=>{console.log("Saving alert settings:",e),k.value=!1};return(0,a.sV)((async()=>{await t.dispatch("alerts/fetchAlerts"),n.value=!1})),(e,t)=>{const r=(0,a.g2)("CheckCircle"),d=(0,a.g2)("Settings"),o=(0,a.g2)("AlertTriangle"),i=(0,a.g2)("Info"),v=(0,a.g2)("Clock");return(0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",$,[(0,a.Q3)(" Header "),(0,a.Lk)("div",C,[(0,a.Lk)("div",A,[(0,a.Lk)("div",null,[(0,a.Lk)("h1",E,(0,l.v_)(e.$t("alerts.title")),1),(0,a.Lk)("p",F,(0,l.v_)(e.$t("alerts.subtitle")),1)]),(0,a.Lk)("div",T,[(0,a.Lk)("button",{onClick:h,disabled:0===m.value,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(0,a.bF)(r,{class:"h-4 w-4 mr-2"}),(0,a.eW)(" "+(0,l.v_)(e.$t("alerts.markAllRead")),1)],8,X),(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>k.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[(0,a.bF)(d,{class:"h-4 w-4 mr-2"}),(0,a.eW)(" "+(0,l.v_)(e.$t("alerts.settings")),1)])])])]),(0,a.Q3)(" Alert Stats "),(0,a.Lk)("div",W,[(0,a.Lk)("div",R,[(0,a.Lk)("div",S,[(0,a.Lk)("div",D,[(0,a.bF)(o,{class:"h-6 w-6 text-red-600 dark:text-red-400"})]),(0,a.Lk)("div",M,[(0,a.Lk)("p",Q,(0,l.v_)(e.$t("alerts.critical")),1),(0,a.Lk)("p",K,(0,l.v_)(y.value),1)])])]),(0,a.Lk)("div",j,[(0,a.Lk)("div",I,[(0,a.Lk)("div",B,[(0,a.bF)(o,{class:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})]),(0,a.Lk)("div",V,[(0,a.Lk)("p",U,(0,l.v_)(e.$t("alerts.warning")),1),(0,a.Lk)("p",z,(0,l.v_)(x.value),1)])])]),(0,a.Lk)("div",H,[(0,a.Lk)("div",J,[(0,a.Lk)("div",P,[(0,a.bF)(i,{class:"h-6 w-6 text-blue-600 dark:text-blue-400"})]),(0,a.Lk)("div",q,[(0,a.Lk)("p",G,(0,l.v_)(e.$t("alerts.info")),1),(0,a.Lk)("p",N,(0,l.v_)(f.value),1)])])]),(0,a.Lk)("div",O,[(0,a.Lk)("div",Y,[(0,a.Lk)("div",Z,[(0,a.bF)(v,{class:"h-6 w-6 text-gray-600 dark:text-gray-400"})]),(0,a.Lk)("div",ee,[(0,a.Lk)("p",te,(0,l.v_)(e.$t("alerts.unread")),1),(0,a.Lk)("p",re,(0,l.v_)(m.value),1)])])])]),(0,a.Q3)(" Filters "),(0,a.Lk)("div",ae,[(0,a.Lk)("div",le,[(0,a.Lk)("div",null,[(0,a.Lk)("label",se,(0,l.v_)(e.$t("alerts.filterByType")),1),(0,a.bo)((0,a.Lk)("select",{id:"type-filter","onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),class:"w-full border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[(0,a.Lk)("option",de,(0,l.v_)(e.$t("alerts.allTypes")),1),(0,a.Lk)("option",oe,(0,l.v_)(e.$t("alerts.critical")),1),(0,a.Lk)("option",ie,(0,l.v_)(e.$t("alerts.warning")),1),(0,a.Lk)("option",ge,(0,l.v_)(e.$t("alerts.info")),1)],512),[[s.u1,u.value]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",ne,(0,l.v_)(e.$t("alerts.filterByStatus")),1),(0,a.bo)((0,a.Lk)("select",{id:"status-filter","onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),class:"w-full border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[(0,a.Lk)("option",ue,(0,l.v_)(e.$t("alerts.allStatuses")),1),(0,a.Lk)("option",ce,(0,l.v_)(e.$t("alerts.unread")),1),(0,a.Lk)("option",be,(0,l.v_)(e.$t("alerts.read")),1)],512),[[s.u1,c.value]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",ke,(0,l.v_)(e.$t("alerts.filterByTime")),1),(0,a.bo)((0,a.Lk)("select",{id:"time-filter","onUpdate:modelValue":t[3]||(t[3]=e=>b.value=e),class:"w-full border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[(0,a.Lk)("option",ve,(0,l.v_)(e.$t("alerts.allTime")),1),(0,a.Lk)("option",me,(0,l.v_)(e.$t("time.1hour")),1),(0,a.Lk)("option",ye,(0,l.v_)(e.$t("time.24hours")),1),(0,a.Lk)("option",xe,(0,l.v_)(e.$t("time.7days")),1)],512),[[s.u1,b.value]])]),(0,a.Lk)("div",fe,[(0,a.Lk)("button",{onClick:Le,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},(0,l.v_)(e.$t("alerts.clearFilters")),1)])])]),(0,a.Q3)(" Alerts List "),(0,a.Lk)("div",pe,[(0,a.Lk)("div",we,[(0,a.Lk)("h3",he,(0,l.v_)(e.$t("alerts.alertsList"))+" ("+(0,l.v_)(p.value.length)+") ",1)]),(0,a.bF)(g.A,{alerts:p.value,loading:n.value,onAcknowledge:w},null,8,["alerts","loading"])]),(0,a.Q3)(" Alert Settings Modal "),k.value?((0,a.uX)(),(0,a.Wv)(L,{key:0,onClose:t[4]||(t[4]=e=>k.value=!1),onSave:_e})):(0,a.Q3)("v-if",!0)])])}}})}}]);