"use strict";(self.webpackChunknetwork_platform=self.webpackChunknetwork_platform||[]).push([[45],{45:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Te});var r=a(641),s=a(33),d=a(953),l=a(751),i=a(834),o=a(966),c=a(477),n=a(900),u=a(443),v=a(640),g=a(680),k=a(28),p=a(996),y=a(684),x=a(717),b=a(783),m=a(494);const f={class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},h={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800"},w={class:"mt-3"},L={class:"flex items-center justify-between mb-4"},$={class:"text-lg font-medium text-gray-900 dark:text-white"},_={for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},C=["placeholder"],D={for:"ip",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},R={for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},A={value:""},E={value:"router"},X={value:"switch"},F={value:"server"},K={value:"workstation"},V={class:"flex justify-end space-x-3 pt-4"},M={type:"submit",class:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},U=(0,r.pM)({__name:"DeviceModal",props:{device:{}},emits:["close","save"],setup(e,{emit:t}){const a=e,i=t,{t:c}=(0,o.s9)(),n=(0,d.Kh)({name:"",ip:"",type:""});(0,r.sV)((()=>{a.device&&(n.name=a.device.name,n.ip=a.device.ip,n.type=a.device.type)}));const u=()=>{i("save",{name:n.name,ip:n.ip,type:n.type})};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("div",h,[(0,r.Lk)("div",w,[(0,r.Lk)("div",L,[(0,r.Lk)("h3",$,(0,s.v_)(e.device?e.$t("devices.editDevice"):e.$t("devices.addDevice")),1),(0,r.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[(0,r.bF)((0,d.R1)(m.A),{class:"h-6 w-6"})])]),(0,r.Lk)("form",{onSubmit:(0,l.D$)(u,["prevent"]),class:"space-y-4"},[(0,r.Lk)("div",null,[(0,r.Lk)("label",_,(0,s.v_)(e.$t("devices.deviceName")),1),(0,r.bo)((0,r.Lk)("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>n.name=e),type:"text",required:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:e.$t("devices.deviceNamePlaceholder")},null,8,C),[[l.Jo,n.name]])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",D,(0,s.v_)(e.$t("devices.ipAddress")),1),(0,r.bo)((0,r.Lk)("input",{id:"ip","onUpdate:modelValue":t[2]||(t[2]=e=>n.ip=e),type:"text",required:"",pattern:"^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"192.168.1.1"},null,512),[[l.Jo,n.ip]])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",R,(0,s.v_)(e.$t("devices.deviceType")),1),(0,r.bo)((0,r.Lk)("select",{id:"type","onUpdate:modelValue":t[3]||(t[3]=e=>n.type=e),required:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[(0,r.Lk)("option",A,(0,s.v_)(e.$t("devices.selectType")),1),(0,r.Lk)("option",E,(0,s.v_)(e.$t("devices.types.router")),1),(0,r.Lk)("option",X,(0,s.v_)(e.$t("devices.types.switch")),1),(0,r.Lk)("option",F,(0,s.v_)(e.$t("devices.types.server")),1),(0,r.Lk)("option",K,(0,s.v_)(e.$t("devices.types.workstation")),1)],512),[[l.u1,n.type]])]),(0,r.Lk)("div",V,[(0,r.Lk)("button",{type:"button",onClick:t[4]||(t[4]=t=>e.$emit("close")),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},(0,s.v_)(e.$t("common.cancel")),1),(0,r.Lk)("button",M,(0,s.v_)(e.$t("common.save")),1)])],32)])])]))}}),W={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},S={class:"mb-8"},T={class:"flex items-center justify-between"},J={class:"text-3xl font-bold text-gray-900 dark:text-white"},q={class:"mt-2 text-gray-600 dark:text-gray-400"},P={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},N={class:"md:col-span-2"},z={for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Q={class:"relative"},B=["placeholder"],G={for:"status-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},H={value:""},O={value:"online"},Y={value:"offline"},Z={value:"warning"},ee={for:"type-filter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},te={value:""},ae={value:"router"},re={value:"switch"},se={value:"server"},de={value:"workstation"},le={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ie={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},oe={class:"text-lg font-semibold text-gray-900 dark:text-white"},ce={key:0,class:"p-6"},ne={class:"space-y-4"},ue={key:1,class:"p-6 text-center"},ve={class:"text-gray-500 dark:text-gray-400"},ge={key:2,class:"overflow-x-auto"},ke={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},pe={class:"bg-gray-50 dark:bg-gray-900"},ye={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},xe={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},be={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},me={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},fe={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},he={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},we={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Le={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},$e={class:"px-6 py-4 whitespace-nowrap"},_e={class:"flex items-center"},Ce={class:"flex-shrink-0"},De={class:"ml-4"},Re={class:"text-sm font-medium text-gray-900 dark:text-white"},Ae={class:"text-sm text-gray-500 dark:text-gray-400"},Ee={class:"px-6 py-4 whitespace-nowrap"},Xe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Me={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ue={class:"flex items-center justify-end space-x-2"},We=["onClick","title"],je=["onClick","title"],Se=["onClick","title"],Te=(0,r.pM)({__name:"Devices",setup(e){const t=(0,i.Pj)(),{t:a}=(0,o.s9)(),m=(0,d.KR)(!0),f=(0,d.KR)(""),h=(0,d.KR)(""),w=(0,d.KR)(""),L=(0,d.KR)(!1),$=(0,d.KR)(null),_=(0,r.EW)((()=>t.state.devices.devices)),C=(0,r.EW)((()=>{let e=_.value;if(f.value){const t=f.value.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.ip.toLowerCase().includes(t)))}return h.value&&(e=e.filter((e=>e.status===h.value))),w.value&&(e=e.filter((e=>e.type===w.value))),e})),D=e=>({router:"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",switch:"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400",server:"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",workstation:"bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400"}[e]),R=e=>({online:"bg-green-400",offline:"bg-red-400",warning:"bg-yellow-400"}[e]),A=e=>{const t=new Date(e),a=(new Date).getTime()-t.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5),d=Math.floor(a/864e5);return d>0?`${d}d ago`:s>0?`${s}h ago`:r>0?`${r}m ago`:"Just now"},E=()=>{L.value=!1,$.value=null},X=async e=>{$.value?await t.dispatch("devices/updateDevice",{id:$.value.id,...e}):await t.dispatch("devices/createDevice",e),E()};(0,r.sV)((async()=>{await F()}));const F=async()=>{m.value=!0,await t.dispatch("devices/fetchDevices"),m.value=!1};return(e,i)=>((0,r.uX)(),(0,r.CE)("div",W,[(0,r.Lk)("div",j,[(0,r.Lk)("div",S,[(0,r.Lk)("div",T,[(0,r.Lk)("div",null,[(0,r.Lk)("h1",J,(0,s.v_)(e.$t("devices.title")),1),(0,r.Lk)("p",q,(0,s.v_)(e.$t("devices.subtitle")),1)]),(0,r.Lk)("button",{onClick:i[0]||(i[0]=e=>L.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[(0,r.bF)((0,d.R1)(g.A),{class:"h-4 w-4 mr-2"}),(0,r.eW)(" "+(0,s.v_)(e.$t("devices.addDevice")),1)])])]),(0,r.Lk)("div",P,[(0,r.Lk)("div",I,[(0,r.Lk)("div",N,[(0,r.Lk)("label",z,(0,s.v_)(e.$t("devices.search")),1),(0,r.Lk)("div",Q,[(0,r.bF)((0,d.R1)(k.A),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.bo)((0,r.Lk)("input",{id:"search","onUpdate:modelValue":i[1]||(i[1]=e=>f.value=e),type:"text",placeholder:e.$t("devices.searchPlaceholder"),class:"pl-10 w-full border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},null,8,B),[[l.Jo,f.value]])])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",G,(0,s.v_)(e.$t("devices.status")),1),(0,r.bo)((0,r.Lk)("select",{id:"status-filter","onUpdate:modelValue":i[2]||(i[2]=e=>h.value=e),class:"w-full border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[(0,r.Lk)("option",H,(0,s.v_)(e.$t("devices.allStatuses")),1),(0,r.Lk)("option",O,(0,s.v_)(e.$t("devices.statuses.online")),1),(0,r.Lk)("option",Y,(0,s.v_)(e.$t("devices.statuses.offline")),1),(0,r.Lk)("option",Z,(0,s.v_)(e.$t("devices.statuses.warning")),1)],512),[[l.u1,h.value]])]),(0,r.Lk)("div",null,[(0,r.Lk)("label",ee,(0,s.v_)(e.$t("devices.type")),1),(0,r.bo)((0,r.Lk)("select",{id:"type-filter","onUpdate:modelValue":i[3]||(i[3]=e=>w.value=e),class:"w-full border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"},[(0,r.Lk)("option",te,(0,s.v_)(e.$t("devices.allTypes")),1),(0,r.Lk)("option",ae,(0,s.v_)(e.$t("devices.types.router")),1),(0,r.Lk)("option",re,(0,s.v_)(e.$t("devices.types.switch")),1),(0,r.Lk)("option",se,(0,s.v_)(e.$t("devices.types.server")),1),(0,r.Lk)("option",de,(0,s.v_)(e.$t("devices.types.workstation")),1)],512),[[l.u1,w.value]])])])]),(0,r.Lk)("div",le,[(0,r.Lk)("div",ie,[(0,r.Lk)("h3",oe,(0,s.v_)(e.$t("devices.deviceList"))+" ("+(0,s.v_)(C.value.length)+") ",1)]),m.value?((0,r.uX)(),(0,r.CE)("div",ce,[(0,r.Lk)("div",ne,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(5,(e=>(0,r.Lk)("div",{key:e,class:"animate-pulse flex items-center space-x-4"},i[4]||(i[4]=[(0,r.Lk)("div",{class:"w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"},null,-1),(0,r.Lk)("div",{class:"flex-1 space-y-2"},[(0,r.Lk)("div",{class:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-1/4"}),(0,r.Lk)("div",{class:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/6"})],-1)])))),64))])])):0===C.value.length?((0,r.uX)(),(0,r.CE)("div",ue,[(0,r.bF)((0,d.R1)(p.A),{class:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,r.Lk)("p",ve,(0,s.v_)(e.$t("devices.noDevices")),1)])):((0,r.uX)(),(0,r.CE)("div",ge,[(0,r.Lk)("table",ke,[(0,r.Lk)("thead",pe,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",ye,(0,s.v_)(e.$t("devices.table.device")),1),(0,r.Lk)("th",xe,(0,s.v_)(e.$t("devices.table.status")),1),(0,r.Lk)("th",be,(0,s.v_)(e.$t("devices.table.type")),1),(0,r.Lk)("th",me,(0,s.v_)(e.$t("devices.table.ping")),1),(0,r.Lk)("th",fe,(0,s.v_)(e.$t("devices.table.uptime")),1),(0,r.Lk)("th",he,(0,s.v_)(e.$t("devices.table.lastSeen")),1),(0,r.Lk)("th",we,(0,s.v_)(e.$t("devices.table.actions")),1)])]),(0,r.Lk)("tbody",Le,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(C.value,(l=>{return(0,r.uX)(),(0,r.CE)("tr",{key:l.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"},[(0,r.Lk)("td",$e,[(0,r.Lk)("div",_e,[(0,r.Lk)("div",Ce,[((0,r.uX)(),(0,r.Wv)((0,r.$y)((o=l.type,{router:c.A,switch:n.A,server:u.A,workstation:v.A}[o])),{class:(0,s.C4)(["h-8 w-8 p-1 rounded-lg",D(l.type)])},null,8,["class"]))]),(0,r.Lk)("div",De,[(0,r.Lk)("div",Re,(0,s.v_)(l.name),1),(0,r.Lk)("div",Ae,(0,s.v_)(l.ip),1)])])]),(0,r.Lk)("td",Ee,[(0,r.Lk)("span",{class:(0,s.C4)(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",(i=l.status,{online:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",offline:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"}[i])])},[(0,r.Lk)("div",{class:(0,s.C4)(["w-2 h-2 rounded-full mr-1.5",R(l.status)])},null,2),(0,r.eW)(" "+(0,s.v_)(e.$t(`devices.statuses.${l.status}`)),1)],2)]),(0,r.Lk)("td",Xe,(0,s.v_)(e.$t(`devices.types.${l.type}`)),1),(0,r.Lk)("td",Fe,(0,s.v_)(l.ping?`${l.ping}ms`:"-"),1),(0,r.Lk)("td",Ke,(0,s.v_)(l.uptime?`${l.uptime}%`:"-"),1),(0,r.Lk)("td",Ve,(0,s.v_)(A(l.lastSeen)),1),(0,r.Lk)("td",Me,[(0,r.Lk)("div",Ue,[(0,r.Lk)("button",{onClick:e=>(async e=>{await t.dispatch("devices/refreshDevice",e)})(l.id),class:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:e.$t("devices.refresh")},[(0,r.bF)((0,d.R1)(y.A),{class:"h-4 w-4"})],8,We),(0,r.Lk)("button",{onClick:e=>(e=>{$.value=e,L.value=!0})(l),class:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",title:e.$t("devices.edit")},[(0,r.bF)((0,d.R1)(x.A),{class:"h-4 w-4"})],8,je),(0,r.Lk)("button",{onClick:e=>(async e=>{confirm(a("devices.confirmDelete"))&&await t.dispatch("devices/deleteDevice",e)})(l.id),class:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:e.$t("devices.delete")},[(0,r.bF)((0,d.R1)(b.A),{class:"h-4 w-4"})],8,Se)])])]);var i,o})),128))])])]))]),L.value?((0,r.uX)(),(0,r.Wv)(U,{key:0,device:$.value,onClose:E,onSave:X},null,8,["device"])):(0,r.Q3)("",!0)])]))}})}}]);